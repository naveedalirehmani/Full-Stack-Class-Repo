{"ast":null,"code":"var _jsxFileName = \"/home/xuba/Desktop/clone-code/fullStackClassRepo/src/hooks/useEffect.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Code from '../components/code.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UseEffectHook = () => {\n  _s();\n  //? Basics\n  //introduction to useEffect.\n  //callback and the dependency array.\n  //When will useEffect be called?\n  //? useEffect dependency mistakes.\n  //avoiding rerenders with dependency array / primitives and non-premitives\n  //using useMemo to avoid rerenders\n  //avoid putting any non-premitives in dependency arrays\n  //? the cleanUp function.\n  // renders useEffect on first render then render cleanUp function before useEffect every time component render\n  //clean up functions to clean up fetch calls\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    let cancleCall = false;\n    fetch(\"https://jsonplaceholder.typicode.com/users\", {\n      signal\n    }).then(response => response.json()).then(data => {\n      if (!cancleCall) {\n        console.log(data);\n        setData(data);\n        controller.abort();\n      }\n    }).catch(error => {\n      if (error.name === \"AbortError\") {\n        // console.log(\"fetch aborted\");\n      }\n    });\n    return () => {\n      cancleCall = true;\n      controller.abort();\n    };\n  }, []);\n  //? catching errors with strict mode.\n  // you might have notice that with strict mode enabled, react components renders twice! this is to ensure that we don't run into errors on second mount as some errors only occure on the second mount.\n  // example\n  //   const [number,setNumber] = useState(1)\n  //   useEffect(()=>{\n  //     console.log('in setInterval effect');\n  //     const interval =  setInterval(()=>{\n  //         setNumber(prev=> prev+1)\n  //     },[1000])\n  //     return ()=>{\n  //         console.log('clean up')\n  //     }\n  //   },[])\n\n  // const [state,changeState] = useState(false)\n\n  // const [counter,setCounter] = useState(0)\n\n  // useEffect(()=>{\n  //   // useEffect...\n  //   console.log('%c componentWillMount', 'color: white; background: seagreen; padding: 15px; font-size: 18px; font-weight: bold;');\n  //   return ()=>{\n  //     console.log('%c componentWillunMount', 'color: white; background: #c40808; padding: 15px; font-size: 18px; font-weight: bold;');\n  //     // cleanup Function...\n  //   }\n  // } , [state] )\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-lg font-bold\",\n      children: \" Basics \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"introduction to useEffect.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"callback and the dependency array.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"When will useEffect be called?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-lg font-bold\",\n      children: \" useEffect dependency mistakes. \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"avoiding rerenders with dependency array / primitives and non-premitives\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"using useMemo to avoid rerenders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"avoid putting any non-premitives in dependency arrays\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Code, {\n      language: \"javascript\",\n      value: `   useEffect(()=>{\n      useEffect...\n     console.log('%c componentWillMount', \n     'color: white; background: seagreen; padding: 15px; font-size: 18px; font-weight: bold;');\n     return ()=>{\n       console.log('%c componentWillunMount',\n         'color: white; background: #c40808; padding: 15px; font-size: 18px; font-weight: bold;');\n        cleanup Function...\n     }\n   } , [state] )`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-lg font-bold\",\n      children: \" the cleanUp function. \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \" renders useEffect on first render then render cleanUp function before useEffect every time component \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), \"render\", /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"clean up functions to clean up fetch calls\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-lg font-bold\",\n      children: \" catching errors with strict mode. \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \" you might have notice that with strict mode enabled, react components renders twice! this is to ensure that we don't run into errors on second mount as some errors only occure on the second mount.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-lg font-bold\",\n      children: \" example code \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Code, {\n      language: \"javascript\",\n      value: `const [data, setData] = useState([]);\n  useEffect(() => {\n    const controller = new AbortController()\n    const signal = controller.signal\n    let cancleCall = false;\n    fetch(\"https://jsonplaceholder.typicode.com/users\", {\n      signal\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (!cancleCall) {\n          console.log(data)\n          setData(data);\n          controller.abort()\n        }\n      })\n      .catch((error) => {\n        if (error.name === \"AbortError\") {\n          // console.log(\"fetch aborted\");\n        }\n      });\n    return () => {\n      cancleCall = true;\n      controller.abort()\n    };\n  }, [] );`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-lg font-bold\",\n      children: \"example 2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Code, {\n      language: \"javascript\",\n      value: `     const [number,setNumber] = useState(1)\n     useEffect(()=>{\n       console.log('in setInterval effect');\n       const interval =  setInterval(()=>{\n           setNumber(prev=> prev+1)\n       },[1000])\n       return ()=>{\n           console.log('clean up')\n       }\n     },[])\n\n   const [state,changeState] = useState(false)\n\n   const [counter,setCounter] = useState(0)`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), data.length ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: data.map(element => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: element.username\n        }, element.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 20\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"no users found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(UseEffectHook, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = UseEffectHook;\nexport default UseEffectHook;\nvar _c;\n$RefreshReg$(_c, \"UseEffectHook\");","map":{"version":3,"names":["React","useEffect","useState","Code","UseEffectHook","data","setData","controller","AbortController","signal","cancleCall","fetch","then","response","json","console","log","abort","catch","error","name","length","map","element","username"],"sources":["/home/xuba/Desktop/clone-code/fullStackClassRepo/src/hooks/useEffect.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Code from '../components/code.jsx'\n\nexport const UseEffectHook = () => {\n  //? Basics\n  //introduction to useEffect.\n  //callback and the dependency array.\n  //When will useEffect be called?\n  //? useEffect dependency mistakes.\n  //avoiding rerenders with dependency array / primitives and non-premitives\n  //using useMemo to avoid rerenders\n  //avoid putting any non-premitives in dependency arrays\n  //? the cleanUp function.\n  // renders useEffect on first render then render cleanUp function before useEffect every time component render\n  //clean up functions to clean up fetch calls\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    const controller = new AbortController()\n    const signal = controller.signal\n    let cancleCall = false;\n    fetch(\"https://jsonplaceholder.typicode.com/users\", {\n      signal\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (!cancleCall) {\n          console.log(data)\n          setData(data);\n          controller.abort()\n        }\n      })\n      .catch((error) => {\n        if (error.name === \"AbortError\") {\n          // console.log(\"fetch aborted\");\n        }\n      });\n    return () => {\n      cancleCall = true;\n      controller.abort()\n    };\n  }, []);\n  //? catching errors with strict mode.\n  // you might have notice that with strict mode enabled, react components renders twice! this is to ensure that we don't run into errors on second mount as some errors only occure on the second mount.\n  // example\n  //   const [number,setNumber] = useState(1)\n  //   useEffect(()=>{\n  //     console.log('in setInterval effect');\n  //     const interval =  setInterval(()=>{\n  //         setNumber(prev=> prev+1)\n  //     },[1000])\n  //     return ()=>{\n  //         console.log('clean up')\n  //     }\n  //   },[])\n\n  // const [state,changeState] = useState(false)\n\n  // const [counter,setCounter] = useState(0)\n\n  // useEffect(()=>{\n  //   // useEffect...\n  //   console.log('%c componentWillMount', 'color: white; background: seagreen; padding: 15px; font-size: 18px; font-weight: bold;');\n  //   return ()=>{\n  //     console.log('%c componentWillunMount', 'color: white; background: #c40808; padding: 15px; font-size: 18px; font-weight: bold;');\n  //     // cleanup Function...\n  //   }\n  // } , [state] )\n\n\n  return (\n    <div>\n      <h1 className=\"text-lg font-bold\"> Basics </h1>\n      <p>introduction to useEffect.</p>\n      <p>callback and the dependency array.</p>\n      <p>When will useEffect be called?</p>\n\n      <h1 className=\"text-lg font-bold\"> useEffect dependency mistakes. </h1>\n      <p>avoiding rerenders with dependency array / primitives and non-premitives</p>\n      <p>using useMemo to avoid rerenders</p>\n      <p>avoid putting any non-premitives in dependency arrays</p>\n      <Code language=\"javascript\" value={`   useEffect(()=>{\n      useEffect...\n     console.log('%c componentWillMount', \n     'color: white; background: seagreen; padding: 15px; font-size: 18px; font-weight: bold;');\n     return ()=>{\n       console.log('%c componentWillunMount',\n         'color: white; background: #c40808; padding: 15px; font-size: 18px; font-weight: bold;');\n        cleanup Function...\n     }\n   } , [state] )`} />\n\n      <h1 className=\"text-lg font-bold\"> the cleanUp function. </h1>\n      <p> renders useEffect on first render then render cleanUp function before useEffect every time component </p>render\n      <p>clean up functions to clean up fetch calls</p>\n      <h1 className=\"text-lg font-bold\"> catching errors with strict mode. </h1>\n      <p> you might have notice that with strict mode enabled, react components renders twice! this is to ensure that we don't run into errors on second mount as some errors only occure on the second mount.</p>\n      <h1 className=\"text-lg font-bold\"> example code </h1>\n      <Code language=\"javascript\" value={`const [data, setData] = useState([]);\n  useEffect(() => {\n    const controller = new AbortController()\n    const signal = controller.signal\n    let cancleCall = false;\n    fetch(\"https://jsonplaceholder.typicode.com/users\", {\n      signal\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (!cancleCall) {\n          console.log(data)\n          setData(data);\n          controller.abort()\n        }\n      })\n      .catch((error) => {\n        if (error.name === \"AbortError\") {\n          // console.log(\"fetch aborted\");\n        }\n      });\n    return () => {\n      cancleCall = true;\n      controller.abort()\n    };\n  }, [] );`} />\n\n      <h1 className=\"text-lg font-bold\">example 2</h1>\n      <Code language=\"javascript\" value={`     const [number,setNumber] = useState(1)\n     useEffect(()=>{\n       console.log('in setInterval effect');\n       const interval =  setInterval(()=>{\n           setNumber(prev=> prev+1)\n       },[1000])\n       return ()=>{\n           console.log('clean up')\n       }\n     },[])\n\n   const [state,changeState] = useState(false)\n\n   const [counter,setCounter] = useState(0)`} />\n\n\n\n\n\n      {/* <p>{state ? \"true\" : \"false\"}</p>\n      <button onClick={()=>changeState(false)}>state</button>\n      \n      <p>{counter}</p>\n      <button onClick={()=>setCounter(counter+1)}>counter</button> */}\n\n      {/* <h1 className=\"text-lg font-bold\">{number}</h1> */}\n      {data.length ? (\n        <ul>\n          {data.map((element) => {\n            return <li key={element.name}>{element.username}</li>;\n          })}\n        </ul>\n      ) : (\n        <p>no users found</p>\n      )}\n    </div>\n  );\n};\n\nexport default UseEffectHook;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}